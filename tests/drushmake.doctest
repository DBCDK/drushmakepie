>>> import drushmake
>>> drushmake.parseline('')
()

>>> drushmake.parseline('gibberish') # doctest: +IGNORE_EXCEPTION_DETAIL
Traceback (most recent call last):
ParseException:

>>> drushmake.parseline('#')['comment']
''

>>> drushmake.parseline(' #')['comment']
''

>>> drushmake.parseline(' # and some text')['comment']
'and some text'

>>> drushmake.parseline(' ;')['comment']
''

>>> drushmake.parseline(' ; and some text')['comment']
'and some text'

>>> drushmake.parseline('api = 2')['api']
'2'

>>> drushmake.parseline('api=3')['api']
'3'

>>> result = drushmake.parseline('api = 1# comment')
>>> (result['api'], result['comment'])
('1', 'comment')

>>> drushmake.parseline('core = 7.x')['core']
'7.x'

>>> drushmake.parseline('core = 7 .x')['core'] # doctest: +IGNORE_EXCEPTION_DETAIL
Traceback (most recent call last):
ParseException:

>>> drushmake.parseline('core = 7. x')['core'] # doctest: +IGNORE_EXCEPTION_DETAIL
Traceback (most recent call last):
ParseException:

>>> drushmake.parseline('projects[drupal] = 7.17')['projects']
(['drupal', '7.17'], {'version': [('7.17', 1)], 'name': [('drupal', 0)]})

>>> drushmake.parseline('projects[drupal][version] = 7.17')['projects']
(['drupal', '7.17'], {'version': [('7.17', 1)], 'name': [('drupal', 0)]})

>>> drushmake.parseline('projects[my_theme][type] = theme')['projects']
(['my_theme', 'theme'], {'type': [('theme', 1)], 'name': [('my_theme', 0)]})

>>> drushmake.parseline('projects[my_module][type] = module')['projects']
(['my_module', 'module'], {'type': [('module', 1)], 'name': [('my_module', 0)]})

>>> drushmake.parseline('projects[my_profile][type] = profile')['projects']
(['my_profile', 'profile'], {'type': [('profile', 1)], 'name': [('my_profile', 0)]})

>>> drushmake.parseline('projects[my_core][type] = core')['projects']
(['my_core', 'core'], {'type': [('core', 1)], 'name': [('my_core', 0)]})

>>> drushmake.parseline('projects[my_gibberish][type] = gibberish')['projects'] # doctest: +IGNORE_EXCEPTION_DETAIL
Traceback (most recent call last):
ParseException:

>>> drushmake.parseline('projects[my_module][patch][] = http://someurl.domain/my_patch.diff')['projects']
(['my_module', 'http://someurl.domain/my_patch.diff'], {'url': [('http://someurl.domain/my_patch.diff', 1)], 'name': [('my_module', 0)]})

>>> drushmake.parseline('projects[my_module][patch] = http://someurl.domain/my_patch.diff')['projects'] # doctest: +IGNORE_EXCEPTION_DETAIL
Traceback (most recent call last):
ParseException:

>>> drushmake.parseline('projects[my_module][patch][] = http://someurl.domain/my_patch.diff no spaces')['projects'] # doctest: +IGNORE_EXCEPTION_DETAIL
Traceback (most recent call last):
ParseException:

>>> drushmake.parseline('projects[my_module][patch][pname][url] = http://someurl.domain/my_patch.diff')['projects']
(['my_module', 'pname', 'http://someurl.domain/my_patch.diff'], {'url': [('http://someurl.domain/my_patch.diff', 2)], 'name': [('my_module', 0)], 'patch': [('pname', 1)]})

>>> drushmake.parseline('projects[my_module][patch][pname][md5] = 0123456789abcdef')['projects']
(['my_module', 'pname', '0123456789abcdef'], {'patch': [('pname', 1)], 'name': [('my_module', 0)], 'md5': [('0123456789abcdef', 2)]})
